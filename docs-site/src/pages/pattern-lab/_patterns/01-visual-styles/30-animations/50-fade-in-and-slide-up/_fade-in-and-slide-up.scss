////
/// @group animations
////

/// Fade in and Slide up
/// See [example in Pattern Lab](../../pattern-lab/public/?p=base-fade-in-and-slide-up)
/// Give element an HTML attribute of `data-anim-trigger="view"` to have `data-anim-triggered='yes'`, which should trigger the animation, applied when scrolled into view.
/// @param $base [false] - Apply to element to prep.
/// @param $active [false] - Apply when element should transition
/// @param $centered [false] - If `@include center($horizontally: true, $vertically: false)` was used - **will not work with** `$vertically: true`.
@mixin anim-fade-in-and-slide-up($base: false, $active: false, $centered: false) {
  @if $base {
    // Using a single time value to coordinate animations.
    $time: $trans-move__time;
    transition: opacity $time $trans-opacity__function, transform $time $trans-move__function;
    will-change: transform, opacity;
    // special use case if elemented is centered horizontally via `@include center()`
    @if $centered {
      opacity: 0;
      // The `center` mixin would add `translateX(-50%)` and we don't want to override it.
      transform: translateY($slide-up-distance) translateX(-50%) translateZ(0);
    } @else {
      opacity: 0;
      transform: translateY($slide-up-distance) translateZ(0);
    }
  }
  @if $active {
    @if $centered {
      //animation: fade-in-and-slide-up--centered $trans-move forwards;
      opacity: 1;
      transform: translateY(0) translateX(-50%) translateZ(0);
    } @else {
      //animation: fade-in-and-slide-up $trans-move forwards;
      opacity: 1;
      transform: translateY(0) translateZ(0);
    }
  }
}

/// Fade in and slide up utility class
/// Give element an HTML attribute of `data-anim-trigger="view"` to have `data-anim-triggered='yes'`, which should trigger the animation, applied when scrolled into view.
.js .u-anim-fade-in-and-slide-up {
  @include anim-fade-in-and-slide-up($base: true);
  // stylelint-disable selector-max-specificity
  &[data-anim-trigger='hover']:hover, // just for demos
  // stylelint-enable selector-max-specificity
  &[data-anim-triggered='yes'] {
    @include anim-fade-in-and-slide-up($active: true);
  }
}
