@import '@bolt/core';

/* ------------------------------------ *\
   Share
\* ------------------------------------ */

$bolt-share-block-link-inset: 'small';
$bolt-share-block-link-inline-spacing: 'xsmall';


@include bolt-custom-element('bolt-share', block, medium);

.c-bolt-share {
  display: block;
}

.c-bolt-share--display-inline {
  .c-bolt-share__link {
    @include bolt-margin-right(-0.25rem);
  }

  .c-bolt-share__link-text {
    @include bolt-visuallyhidden;
  }
}

.c-bolt-share--display-button {
  .c-bolt-share__link {
    @include bolt-padding(#{$bolt-share-block-link-inset});

    display: flex;
    position: relative;
    overflow: hidden;

    &:before {
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      content: '';
      background-color: bolt-color(indigo, light);
      opacity: 0.1;
      transform: translate3d(-101%, 0, 0);
      transition: all $bolt-transition;
    }

    &:hover:before,
    &:active:before,
    &:focus:before {
      transform: translate3d(0, 0, 0);
    }

    > * {
      @include bolt-margin(0);
    }
  }

  .c-bolt-share__link-text {
    @include bolt-padding-left(#{$bolt-share-block-link-inline-spacing});
  }

  // @todo [Mai] This is neccessary because the tooltip component is not themable. Clean this up when the time comes.
  .c-bolt-link__icon {
    color: bolt-color(indigo, light);
  }

  // @todo [Mai] These dirty overrides are in place because the copy to clipboard component needs a refactor. Clean this up when the time comes.
  .c-bolt-share__copy {
    @include bolt-padding(#{$bolt-share-block-link-inset});

    > * {
      display: flex;
    }

    .c-bolt-share__link {
      margin-top: bolt-v-spacing(#{$bolt-share-block-link-inset}) * -1;
      margin-right: bolt-spacing(#{$bolt-share-block-link-inset}) * -1;
      margin-bottom: bolt-v-spacing(#{$bolt-share-block-link-inset}) * -1;
      margin-left: bolt-spacing(#{$bolt-share-block-link-inset}) * -1;
    }

    .c-bolt-copy-to-clipboard__confirmation {
      .c-bolt-link {
        display: flex;

        > * {
          @include bolt-margin(0);
        }

        .c-bolt-link__text {
          @include bolt-padding-left(#{$bolt-share-block-link-inline-spacing});
        }
      }
    }
  }
}

$bolt-share-opacity: 100, 80, 60, 40, 20;

@each $opacity in $bolt-share-opacity {
  .c-bolt-share--opacity-#{$opacity} {
    opacity: #{$opacity / 100};
    transition: opacity $bolt-transition;

    &:hover {
      opacity: 1;
    }
  }
}

.c-bolt-share__label {
  @include bolt-font-size(xsmall);

  color: bolt-theme(text);
  opacity: 0.6;
}

.c-bolt-share__label--medium {
  @include bolt-font-weight(bold);
  text-transform: uppercase;
}

.c-bolt-share__label--small {
  @include bolt-font-weight(semibold);
}

.c-bolt-share__link {
  text-decoration: none;
}

.c-bolt-share__link-text {
  color: bolt-color(black);
}
