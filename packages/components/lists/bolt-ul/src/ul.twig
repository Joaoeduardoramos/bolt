{% set schema = bolt.data.components['@bolt-components-unordered-list'].schema %}
{% if enable_json_schema_validation %}
  {{ validate_data_schema(schema, _self) | raw }}
{% endif %}

{% set attributes = create_attribute(attributes|default({})) %}
{% set base_class = "c-bolt-ul" %}

{% set classes = [
  base_class
] %}

{% if contentItems %}
  {% set items = contentItems %}
{% endif %}

<bolt-ul>
  <replace-with-grandchildren>
    <ul {{ attributes.addClass(classes) }}>
      {% for item in items %}
        {% if item is iterable %}
          {% set nested_item = item | merge({
            type: "ul"
          }) %}
          {% include "@bolt-components-li/li.twig" with nested_item only %}
        {% else %}
          {% set list_item = {
            type: "ul",
            children: item,
          } %}
          {% include "@bolt-components-li/li.twig" with list_item only %}
        {% endif %}
      {% endfor %}
    </ul>
  </replace-with-grandchildren>
</bolt-ul>
