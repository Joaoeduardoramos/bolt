/* ==========================================================================
   #BOLT RATIO OBJECT
   ========================================================================== */

@import '@bolt/core';

bolt-ratio {
  display: block;
  position: relative;
  width: 100%;

  @include bolt-css-vars((
    --aspect-ratio: 1/1,
  ));

  @supports (--custom:property) {
    padding-bottom: 0 !important; // workaround to ensure browsers with CSS custom prop support don't use the inline padding bottom added via Twig before the JS kicks in  

    &:before {
      content: '';
      display: block;
      padding-bottom: calc(100% / (var(--aspect-ratio)));
    }
  }
}

/**
  * 1. Fallback selector if JS isn't disabled, but hasn't kicked in yet.
  * 2. Fallback selector for browsers not supporting ::slotted(*) selector
  */

bolt-ratio > * {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  min-width: 100%; // workaround for content w/ hard-coded height & width
  height: 100%;
  min-height: 100%; // workaround for content w/ hard-coded height & width
}

:host {
  height: auto;
}

:host ::slotted(*) {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}
