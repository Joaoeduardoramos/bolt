(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{"./node_modules/@bolt/components-nav-priority/nav-priority.js":function(t,i,n){"use strict";n.r(i),n.d(i,"BoltNavPriority",function(){return f});var e,o,r,s=n("./node_modules/@bolt/core/utils/index.js"),a=n("./node_modules/@bolt/core/renderers/index.js");function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(){var t=function(t,i){return i||(i=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(i)}}))}(["\n      ","\n    "]);return d=function(){return t},t}function l(t,i){return!i||"object"!==c(i)&&"function"!=typeof i?v(t):i}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function h(t,i,n){return i&&u(t.prototype,i),n&&u(t,n),t}function y(t,i){return(y=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var f=Object(s.e)((r=o=function(t){function i(t){var n;return function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),t=n=l(this,p(i).call(this,t)),n.activeLink=!1,n.useShadow=!1,n.isReady=!1,n.transitionEvent=Object(s.o)(),n._adaptPriorityNav=n._adaptPriorityNav.bind(v(v(n))),n._handleDropdownToggle=n._handleDropdownToggle.bind(v(v(n))),l(n,t)}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&y(t,i)}(i,Object(a.c)()),h(i,null,[{key:"observedAttributes",get:function(){return["is-ready"]}}]),h(i,[{key:"connecting",value:function(){var t=this;Promise.all([customElements.whenDefined("bolt-navlink")]).then(function(i){t.isOpen=!1,t.offsettolerance=5,t.containerTabs=t.querySelector(".c-bolt-nav-priority"),t.primaryNav=t.querySelector(".c-bolt-nav-priority__primary"),t.primaryItems=t.querySelectorAll(".c-bolt-nav-priority__primary > .c-bolt-nav-priority__item:not(.c-bolt-nav-priority__item--show-more)"),t.primaryNav.insertAdjacentHTML("beforeend",'\n        <li class="c-bolt-nav-priority__item c-bolt-nav-priority__show-more">\n          <button type="button" aria-haspopup="true" aria-expanded="false" class="c-bolt-nav-priority__button c-bolt-nav-priority__show-button">\n            <span class="c-bolt-nav-priority__show-text">\n              '.concat(t.props.moreText?t.props.moreText:"More",'\n            </span>\n            <span class="c-bolt-nav-priority__show-icon">\n              <bolt-icon name="chevron-down"></bolt-icon>\n            </span>\n          </button>\n          <div class="c-bolt-nav-priority__dropdown">\n            <ul class="c-bolt-nav-priority__list c-bolt-nav-priority__dropdown-list">\n              ').concat(t.primaryNav.innerHTML,"\n            </ul>\n          </div>\n        </li>\n      ")),t.isReady=!0,t.priorityDropdown=t.querySelector(".c-bolt-nav-priority__dropdown"),t.dropdownItems=t.priorityDropdown.querySelectorAll("li"),t.dropdownLinks=t.priorityDropdown.querySelectorAll("bolt-navlink"),t.dropdownLinks.forEach(function(t){t.setAttribute("is-dropdown-link","")}),t.allListItems=t.querySelectorAll("li"),t.moreListItem=t.primaryNav.querySelector(".c-bolt-nav-priority__show-more"),t.dropdownButton=t.moreListItem.querySelector(".c-bolt-nav-priority__show-button"),t._adaptPriorityNav(),t._handleExternalClicks(),t._waitForDropdownToFinishAnimating=t._waitForDropdownToFinishAnimating.bind(t),t.dropdownButton.addEventListener("click",t._handleDropdownToggle),t.addEventListener("navlink:click",t._onActivateLink),window.addEventListener("optimizedResize",t._adaptPriorityNav)})}},{key:"render",value:function(){return this.html(d(),this.slot("default"))}},{key:"_adaptPriorityNav",value:function(){var t=this;this.classList.add("is-resizing"),this.allListItems.forEach(function(t){t.classList.remove("is-hidden")});var i=this.dropdownButton.offsetWidth,n=[],e=this.primaryNav.offsetWidth,o=!1;this.primaryItems.forEach(function(r,s){e+t.offsettolerance>=i+r.offsetWidth&&!0!==o?i+=r.offsetWidth:(o=!0,r.classList.add("is-hidden"),n.push(s))}),n.length?this.dropdownItems.forEach(function(t,i){n.includes(i)||t.classList.add("is-hidden")}):(this.isOpen=!1,this.removeAttribute("open"),this.moreListItem.classList.add("is-hidden"),this.containerTabs.classList.remove("c-bolt-nav-priority--show-dropdown"),this.dropdownButton.classList.remove("is-active"),this.dropdownButton.setAttribute("aria-expanded",!1)),this.classList.remove("is-resizing")}},{key:"_handleExternalClicks",value:function(){var t=this;document.addEventListener("click",function(i){for(var n=i.target;n;){if(n===t.priorityDropdown||n===t.dropdownButton)return;n=n.parentNode}t.close()})}},{key:"_onActivateLink",value:function(t){this.close()}},{key:"_handleDropdownToggle",value:function(t){t.preventDefault(),this.isOpen=!this.isOpen,this._toggleDropdown()}},{key:"_toggleDropdown",value:function(){this.isOpen?this.open():this.close()}},{key:"open",value:function(){this.isOpen=!0,this.setAttribute("open",!0),this.containerTabs.classList.add("c-bolt-nav-priority--show-dropdown"),this.classList.add("is-opening"),this.dropdownButton.classList.add("is-active"),this.dropdownButton.setAttribute("aria-expanded",!0),this.priorityDropdown.addEventListener(this.transitionEvent,this._waitForDropdownToFinishAnimating,!0)}},{key:"_waitForDropdownToFinishAnimating",value:function(t){Object(s.m)(this,this.priorityDropdown,this._afterDropdownHasFinishedAnimating)(t)}},{key:"_afterDropdownHasFinishedAnimating",value:function(t,i,n){t.classList.remove("is-opening"),t.classList.remove("is-closing"),t.priorityDropdown.removeEventListener(t.transitionEvent,t._waitForDropdownToFinishAnimating,!0)}},{key:"close",value:function(){this.isOpen=!1,this.removeAttribute("open"),this.classList.add("is-closing"),this.containerTabs.classList.remove("c-bolt-nav-priority--show-dropdown"),this.dropdownButton.classList.remove("is-active"),this.dropdownButton.setAttribute("aria-expanded",!1),this.priorityDropdown.addEventListener(this.transitionEvent,this._waitForDropdownToFinishAnimating)}},{key:"disconnecting",value:function(){this.removeEventListener("navlink:click",this._onActivateLink),window.removeEventListener("optimizedResize",this._adaptPriorityNav)}},{key:"isReady",get:function(){return this.hasAttribute("is-ready")},set:function(t){(t=Boolean(t))?(this.setAttribute("is-ready",""),this.classList.add("is-ready"),this.dispatchEvent(new CustomEvent("nav-priority:ready",{detail:{isReady:!0},bubbles:!0})),this.containerTabs&&this.containerTabs.classList.add("is-ready")):(this.removeAttribute("is-ready"),this.classList.remove("is-ready"),this.containerTabs&&this.containerTabs.classList.remove("is-ready"))}}]),i}(),o.is="bolt-nav-priority",o.props={moreText:s.i.string},e=r))||e}}]);